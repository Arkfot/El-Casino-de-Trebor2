<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Classroom</title>
  <link rel="stylesheet" href="css/chat.css">
  <script src="js/esconder.js"></script>
  <script src="js/ip.js" defer></script>  
  <link rel="icon" type="image/png" sizes="32x32" href="images/icon2.png">
  <link rel="icon" type="image/png" sizes="64x64" href="images/icon2.png">
  <link rel="icon" type="image/png" sizes="128x128" href="images/icon2.png">
</head>
<body>
<div id="user-public-info">
  <div id="nombre-publico-display">Nombre: <span id="nombre_publico">Cargando...</span></div>
  <button onclick="mostrarFormularioNombre()">✏️ Cambiar</button>
  <form id="form-nombre" style="display:none;" onsubmit="guardarNuevoNombre(event)">
    <input type="text" id="nuevo_nombre" maxlength="50" placeholder="Nuevo nombre público" required />
    <button type="submit">Guardar</button>
  </form>
</div>

  <div class="chat-wrapper">
  <aside class="sidebar">
    <h2>Chats</h2>
    <ul class="user-list">
      <li class="user-item active">General</li>
      <!-- Más usuarios o canales aquí -->
    </ul>
  </aside>

  <main class="chat-area">
    <header class="chat-header">
      <h2>Chat General</h2>
      <div id="user-id-display">ID: <span id="user_code">Cargando...</span></div>
    </header>

    <div id="messages" class="chat-messages"></div>

    <form id="chat-form" class="chat-input">
      <input type="text" id="message" placeholder="Escribe un mensaje..." required>
      <button type="submit">Enviar</button>
    </form>
  </main>
  <div class="floating-box">
  <button class="cerrar-sesion" onclick="localStorage.removeItem('ultimoAcceso'); window.location.href='index.html';">
    🔒 Cerrar sesión
  </button>

  <div class="botonera">
    <button class="boton-esconder" onclick="redirigirAleatorio()">🐣 Esconderse</button>
  </div>
</div>
</div>

<script src="chat.js"></script>
<script src="js/proteccion.js"></script>
</body>
</html>
