<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Classroom</title>
  <link rel="stylesheet" href="css/chat.css">
  <script src="js/esconder.js"></script>
  <script src="js/ip.js" defer></script>  
  <link rel="icon" type="image/png" sizes="32x32" href="images/icon2.png">
  <link rel="icon" type="image/png" sizes="64x64" href="images/icon2.png">
  <link rel="icon" type="image/png" sizes="128x128" href="images/icon2.png">
</head>
<body>

  <div class="chat-wrapper">
  <aside class="sidebar">
    <h2>Chats</h2>
    <ul class="user-list">
      <li class="user-item active">General</li>
      <!-- M치s usuarios o canales aqu칤 -->
    </ul>
  </aside>

  <main class="chat-area">
    <header class="chat-header">
    <h2>Chat General</h2>
    <div id="user-public-info">
  <div id="nombre-publico-display">
    Usuario: <span id="nombre_publico">Cargando...</span>
  </div>
  <div id="user-id-display">
    ID: <span id="user_code">Cargando...</span>
  </div>

  <!-- Bot칩n para abrir el form (inicialmente oculto) -->
<!-- Bot칩n para mostrar el formulario -->
<button id="btn-editar-nombre" onclick="mostrarFormularioNombre()" style="display: none;" class="boton-editar-nombre">
  <span class="icono-lapiz">九勇</span> Cambiar nombre
</button>

<!-- Formulario para editar nombre -->
<form id="form-nombre" onsubmit="guardarNuevoNombre(event)" style="display: none;" class="form-cambiar-nombre">
  <input
    type="text"
    id="nuevo_nombre"
    maxlength="50"
    placeholder="Escribe tu nuevo nombre..."
    required
    class="input-nombre"
  />
  <button type="submit" class="boton-guardar-nombre">
    游 Guardar
  </button>
</form>

</div>

    </header>


    <div id="messages" class="chat-messages"></div>

    <form id="chat-form" class="chat-input">
      <input type="text" id="message" placeholder="Escribe un mensaje..." required>
      <button type="submit">Enviar</button>
    </form>
  </main>
  <div class="floating-box">
  <button class="cerrar-sesion" onclick="localStorage.removeItem('ultimoAcceso'); window.location.href='index.html';">
    游 Cerrar sesi칩n
  </button>

  <div class="botonera">
    <button class="boton-esconder" onclick="redirigirAleatorio()">游냒</button>
  </div>
</div>
</div>

<script src="chat.js"></script>
<script src="js/proteccion.js"></script>
</body>
</html>
